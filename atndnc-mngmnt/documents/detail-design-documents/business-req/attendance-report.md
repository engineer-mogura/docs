[プロジェクト管理](../../../../index.html) > [CloudWorks](../../../index.html) > [ドキュメント管理](../../index.html) > [詳細設計書](../index.html)

# cloud-work: attendance-management(勤怠報告)

[TOC]

## 概要

- 社員情報
- 社員登録
- 社員削除

## 修正履歴

| 日付       | バージョン | 概要     | 修正者 |
| ---------- | ---------- | -------- | ------ |
| 2024/03/07 | 1.0        | 新規作成 | 友利   |

## API 一覧

| URL                         | 名称         | 説明                         |
| --------------------------- | ------------ | ---------------------------- |
| /employee_management        | 社員一覧     | 社員情報一覧画面を表示する   |
| /employee_management/search | 社員検索     | 社員検索結果 HTML を返却する |
| /employee_management        | 社員一覧画面 | 社員一覧画面                 |
| /employee_management        | 社員一覧画面 | 社員一覧画面                 |

## 社員一覧

### リクエスト

| パラメタ  | 名称                 | 型  | 説明 |
| --------- | -------------------- | --- | ---- |
| disp_list | 社員データ取得制限数 | int | ID   |
| id        | ID                   | int | ID   |
| id        | ID                   | int | ID   |
| id        | ID                   | int | ID   |

### 処理詳細
#### 1. サーバーサイド

1. 権限チェック
2. 詳細検索エリアデータ取得
   1. 年月日リスト作成
   2. 性別リスト作成
   3. 在職リスト作成
   4. ページリスト作成
   5. 以下区分のリスト作成
      - 1000:所属区分,1100:雇用契約区分,1200:職位区分,1300:勤務エリア区分
   6. 表示リスト作成
3. リクエスト.disp_list
   - 存在する場合
     - disp_list にリクエスト.disp_list を設定する
   - 存在しない場合
     - disp_list にデフォルト件数 5 を設定する
4. ユーザー情報取得
   1. disp_list 件数分データ取得する
5. 各種情報をレスポンスする

## 社員検索

### リクエスト

| パラメタ  | 名称                 | 型  | 説明 |
| --------- | -------------------- | --- | ---- |
| disp_list | 社員データ取得制限数 | int | ID   |
| id        | ID                   | int | ID   |
| id        | ID                   | int | ID   |
| id        | ID                   | int | ID   |

### 処理詳細
#### 1. フロントサイド

1. 検索ボタン押下した場合
   1. URL.searchParams に各種検索条件を設定
   2. 検索ボタンフラグ設定
2. 表示件数選択した場合
   1. URL.searchParams.page=1 を設定
   2. 表示件数選択フラグ設定
3. ページネーション選択した場合
   1. URL.searchParams.disp_list=現在選択している表示件数リストを設定
   2. ページネーション選択フラグ設定

#### 2. サーバーサイド

1. 権限チェック
2. 検索ボタンフラグが存在する場合
   1. 検索パラメタを条件に設定する
   2. セッションに検索パラメタを保持する
3. 表示件数選択フラグが存在する場合
   1. セッションから検索パラメタを取得し、検索条件とする
4. ページネーション選択フラグが存在する場合
   1. セッションから検索パラメタを取得し、検索条件とする
5. ユーザー情報取得
   1. リクエスト検索条件を条件に
6. リクエスト.disp_list
   - 存在する場合
     - disp_list にリクエスト.disp_list を設定する
   - 存在しない場合
     - disp_list にデフォルト件数 5 を設定する
7. ユーザー情報取得
   1. disp_list 件数分、リクエスト検索条件を条件にデータ取得する
8. 各種情報をレスポンスする

#### 3. フロントサイド

1. 権限チェック
2. ユーザー情報取得
